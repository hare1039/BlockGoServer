#+TITLE: Block Go server

* Protocal
<< All transfer in json >>
** Start
| client                        |     | server                        |
|-------------------------------+-----+-------------------------------|
| {                             |     | {                             |
| "cmd": "start",               |     | "status": "$S",               |
| "right": "$P",                | --> | "why": "$STR"                 |
| "left": "$P"                  |     | }                             |
| }                             |     |                               |
| ## $P == ["humen", "random",  |     |                               |
| ##        "strategy", "MCTS"] |     | ## $S == ["ok", "err", "end"] |
|-------------------------------+-----+-------------------------------|
| transfering                   |     |                               |
| {                             |     | {                             |
| "cmd": "transfer",            |     | "status": "$S",               |
| "x": $NUMBER,                 | <-> | "why": "$STR"                 |
| "y": $NUMBER,                 |     | }                             |
| "stone": $NUMBER,             |     |                               |
| "rotate": $NUMBER             |     |                               |
| "player": $NUMBER             |     |                               |
| }                             |     |                               |
|-------------------------------+-----+-------------------------------|
| Ending                        |     |                               |
| {                             | <-- | {                             |
| "cmd": "ok",                  |     | "status": "end",              |
| "why":"$STR"                  |     | "why": "winner is xxx",       |
| }                             |     | "cmd": "status"               |
|                               |     | }                             |
|                               | --> | connection close              |
|-------------------------------+-----+-------------------------------|

